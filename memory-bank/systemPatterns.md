# System Patterns: ynsta.github.io Tools Collection

## System Architecture

### Overall Structure
```
ynsta.github.io/
├── index.html              # Main gallery page (renderer only)
├── tools-config.js         # Auto-generated tool registry (source of truth)
├── generate-tools-config.js # Node.js script for build-time tool discovery
├── default.svg             # Fallback icon for tools
├── _template/              # Starter template for new tools
│   └── index.html
├── .github/
│   └── workflows/
│       └── generate-tools-config.yml  # Auto-update on push
└── [tool-name]/           # Individual tool directories
    ├── index.html         # Tool implementation
    └── icon.svg           # Optional custom icon
```

### Key Technical Decisions

1. **Static Site Architecture**
   - No server-side processing
   - All logic in client-side JavaScript
   - GitHub Pages for hosting

2. **Build-Time Tool Discovery Pattern**
   - A Node.js script (`generate-tools-config.js`) runs at build time (via GitHub Actions).
   - It scans all valid tool directories.
   - It extracts metadata (title, description) from each tool's `index.html`.
   - It checks for a custom `icon.svg`.
   - It generates a static `tools-config.js` file that serves as the single source of truth for the gallery.
   - The client-side gallery (`index.html`) is now purely a renderer and performs no discovery logic.

3. **Modular Design**
   - Each tool is completely self-contained
   - No shared dependencies between tools
   - Tools can have different themes if needed

## Design Patterns in Use

### 1. Build-Time Auto-Discovery
```javascript
// generate-tools-config.js (runs on server/build)
// 1. Scans all directories, ignoring ones like `_template`.
// 2. Reads meta tags and title from each tool's index.html.
// 3. Checks for `icon.svg`.
// 4. Writes a complete `tools-config.js` with all data.
```

### 2. Pure Gallery Pattern
```javascript
// index.html (runs on client)
// 1. Loads the pre-built `tools-config.js`.
// 2. Iterates through the `toolsConfig` array.
// 3. Renders a card for each tool.
// 4. No fetch, no HEAD requests, no client-side discovery.
```

### 3. Fallback Pattern
```javascript
// Icon loading: custom icon → default.svg → emoji
// Title extraction: meta tag → <title> → folder name
// Description: meta description → title → default text
```

## Component Relationships

### Main Gallery (index.html)
- **Depends on**: `tools-config.js` (as a static data source)
- **Renders**: Tool cards with links, titles, descriptions, and icons.
- **Features**:
  - **Pure Rendering**: No client-side logic for tool discovery.
  - **Fast Load**: Instantly renders the gallery from the config file.
  - Responsive grid layout.
  - Graceful error handling for missing config or icons.

### Tool Configuration (tools-config.js)
- **Generated by**: generate-tools-config.js
- **Updated by**: GitHub Actions
- **Contains**: Array of tool objects with metadata

### Individual Tools
- **Structure**: Self-contained in directories
- **Requirements**: 
  - index.html file
  - Optional icon.svg
  - Meta tags for description
- **Independence**: No cross-tool dependencies

## Critical Implementation Paths

### Adding a New Tool
1. **Copy the template**: Duplicate the `_template` directory and rename it.
2. **Customize the tool**:
   - Modify the `index.html` file with the new tool's logic.
   - Update the `<title>` and `<meta name="description">` tags.
3. **Add an icon** (optional): Place a custom `icon.svg` in the tool's directory.
4. **Push to GitHub**: The GitHub Action will automatically run the discovery script and add the new tool to the gallery.

### Tool Development Guidelines
1. **Styling**: Use established theme CSS
2. **Structure**: Follow badge-converter example
3. **Metadata**: Always include title and description
4. **Icons**: Provide SVG icon or use emoji fallback
5. **Functionality**: All processing client-side

### Theme Implementation
```css
/* Core theme variables */
- Background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%)
- Primary accent: #00d4aa
- Text: #ffffff
- Muted text: #94a3b8
- Glass effect: rgba(255, 255, 255, 0.05) + backdrop-filter
- Borders: rgba(255, 255, 255, 0.1)
```

## Error Handling Patterns

1. **Missing Tools**: Skip and continue loading others
2. **Failed Icons**: Fallback chain (custom → default → emoji)
3. **Network Issues**: Show appropriate error messages
4. **Invalid Metadata**: Use sensible defaults

## Performance Considerations

1. **Lazy Loading**: Tools loaded only when accessed
2. **No External Dependencies**: Everything self-contained
3. **Minimal JavaScript**: Only essential functionality
4. **Optimized Assets**: SVG icons, minimal CSS

## Security Patterns

1. **No External Requests**: All processing local
2. **No Data Storage**: No cookies or localStorage by default
3. **Content Security**: Each tool isolated
4. **Input Validation**: Client-side validation for all inputs
